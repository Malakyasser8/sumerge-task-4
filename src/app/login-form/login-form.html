<app-spinner [isLoading]="isLoading" />
<h1>{{ isLoginMode ? "Login" : "SignUp" }}</h1>
<form class="form-container" [formGroup]="loginForm" (submit)="onSubmit()">
  <mat-form-field
    class="form-field"
    [class.addPadding]="isInvalidEmail"
    appearance="outline"
  >
    <mat-label> E-mail </mat-label>
    <input matInput formControlName="email" />
    <mat-error>
      @if (isInvalidEmail){
      <span class="text-truncate"
        >The email is required and must be a valid email</span
      >
      }
    </mat-error>
  </mat-form-field>
  <mat-form-field
    class="form-field"
    [class.addPadding]="isInvalidPassword"
    appearance="outline"
    hintLabel="Min 6 characters"
  >
    <mat-label> Password </mat-label>
    <input matInput formControlName="password" type="password" />
    <mat-error>
      @if (isInvalidPassword){
      <span class="text-truncate"
        >The password is required and must be more than 6 characters</span
      >
      }
    </mat-error>
  </mat-form-field>
  <button
    matFab
    extended
    class="button-decorator"
    type="submit"
    [disabled]="loginForm.invalid"
  >
    {{ isLoginMode ? "Login" : "SignUp" }}
  </button>
  <button
    matFab
    extended
    class="button-decorator"
    type="button"
    (click)="onSwitchMode()"
  >
    Switch to {{ isLoginMode ? "SignUp" : "Login" }} mode
  </button>
  <div id="error-input" class="error-msg mx-4">
    {{ errorMessage }}
  </div>
</form>
